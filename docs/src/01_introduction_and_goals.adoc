ifndef::imagesdir[:imagesdir: ../images]

== Introduction and Objectives

=== Requirements Summary

WIChat is an enhanced version of the experimental quiz application developed last year by HappySw for RTVE. The main improvement is the incorporation of a chatbot powered by a large language model (LLM), allowing contestants to interact and receive hints during the game. The application automatically generates questions and images using data from Wikidata, offering a wide variety of topics and visual content. It also includes features such as user registration, individual game rankings, global rankings among all users, options to modify account data, and display of general user information. All of this makes the game more engaging and personalized. WIChat is a web platform designed to be scalable, flexible, and easy to maintain, providing an interactive, fun, and educational experience for users.

=== Essential Functional Requirements

* *User Registration and Authentication*: 
    ** Users can create accounts and log in to participate in the quiz.

* *Question and Answer Game*: 
    ** Menu to select the type of question and the maximum response time per question. 
    ** Display of images to contestants, who must guess the place or topic shown.
    ** Inclusion of image-related questions within the chatbot.
    ** Users are rewarded for each correct answer.

* *Interactive Hint Functionality*: 
    ** Users can request hints about the answers through conversational interaction.
    ** Hints will be generated by an external large language model (LLM).

* *Automatic Content Generation*: 
    ** Images and hints will be automatically generated using data retrieved from Wikidata.

* *Global Ranking System*: 
    ** Users can view their position in the global ranking.
    ** The ranking displays percentage of correct answers, total time spent per game, email, game number within the ranking, and date and time of the game.
    ** Data is sorted from highest to lowest based on the percentage of correct answers; in case of a tie, the total time spent determines the ranking.

* *Personal Ranking System*:
    ** Users can view all their played games in a personal ranking displayed in the home menu.
    ** The personal ranking displays the number of correct and incorrect answers, total time spent per game, and the date and time of each game.
    ** Data is sorted from highest to lowest based on the number of correct answers; in case of a tie, the total time spent determines the ranking.
    ** Unlike the global ranking, the personal ranking does not display the user's email, as it is not relevant since it only includes their own games.
    ** Clicking on a game result opens a pop-up showing the list of questions for that game, including the number of correct and incorrect answers and the total time spent. Clicking on each question opens a pop-up showing the question and the correct answer; if the user answered incorrectly, the wrong answer will also be displayed.

* *Personal Account Management Section*: 
    ** Users can change their password from the personal account management menu.
    ** Users can view their personal data as well as general statistics from all their played games.
    ** They can also view a graph displaying the results of their last 10 games; hovering over each point shows the specific data for each game. The Y-axis represents the percentage of correct answers per game.

* *Administrator Menu*:
    ** Administrators can view the list of users registered in the application.
    ** For each registered user, their email and username are displayed.
    ** Administrators can delete non-admin users via a delete button shown next to each user's email.

* *Frequently Asked Questions*:
    ** Users can access a FAQ section explaining how the application works and how to use it.
    ** This option will be available within the Help section in the navigation menu.

=== Main Drivers

* *Improvement of User Interaction*: 
    ** The inclusion of conversational hints aims to increase user engagement and participation.

* *Content Automation*: 
    ** Automatic generation of images and hints reduces manual work and helps keep the content updated and diverse.

* *Alignment with Modern Technologies*:
    ** Integrating an LLM and using Wikidata places the application at the forefront of technology, which is key for RTVE as an innovative public entity.

* *User Experience*:
    ** Aiming for greater user involvement and interaction with the application through new, highly useful and interesting functionalities.

=== Motivation

From the end-user's perspective, the WIChat system is designed to enhance the experience of participants in the "Saber y Ganar" program. The main goal of modifying the system is to increase participant interaction by allowing them to obtain hints conversationally through an external large language model (LLM). This enriches the gaming experience and facilitates participation by offering "assistance" via the chatbot.

The system is designed to provide better support to players through hints generated by the chatbot, while also improving the overall game quality by integrating advanced technology for automatic generation of images and hints based on Wikidata data. This ensures the content is relevant, updated, and non-repetitive, providing users with a richer and more engaging experience.

=== Quality Objectives

[options="header",cols="1,3"]
|===
| Quality Objective | Specific Scenario
| High Availability | The system must be available 24/7 with minimal downtime for maintenance.
| Scalability | The architecture must allow adding more servers without service interruption, efficiently handling traffic spikes during high demand periods.
| Security | The application must ensure the protection of user data, especially passwords, during registration and login processes.
| Performance | The response time to display a question and its options must be less than 2 seconds.
| Integration with Wikidata | Images and hints must be correctly generated from Wikidata data without errors.
| Usability | The user interface must be intuitive, with clear instructions on how to participate and request hints.
|===

=== WIChat System Stakeholders

1. *End Users*:
    - 1.1. *Role*: Contestants.
    * *Responsibility*: Understand the basic architecture of the game to interact with questions, hints, and functionalities of the application. No deep technical knowledge is required.

    - 1.2. *Role*: System Administrators.
    * *Responsibility*: Understand the architecture to manage system maintenance and security, perform deployments, and monitor performance. They must also manage the user administration menu, being able to delete users who are not administrators.

2. *Software Developers*:
* *Role*: Frontend and backend developers.
* *Responsibility*: Understand the architecture in depth to implement system functionalities such as image generation and chatbot hint integration.

3. *Software Architects*:
* *Role*: Technical architects responsible for the system's infrastructure.
* *Responsibility*: Have a deep understanding of the architecture and make key decisions on system scalability, security, and modularity.

4. *Testers*:
* *Role*: Responsible for ensuring system quality.
* *Responsibility*: Understand the architecture and work organization to ensure the game operates correctly and images and hints are properly generated.

.Project Stakeholders
[options="header",cols="^1,^2,^2"]
|===
| Role/Name | Contact | Expectations
| Software developers, architects, and testers |
https://github.com/DalonfeUO[Daniel Alberto Alonso Fernández] + 
https://github.com/davidalvarezcabezas[David Álvarez Cabezas] + 
https://github.com/alejandrofdzgarcia[Alejandro Fernández García] + 
https://github.com/mario5garciap[Mario García Prieto] 
| Collaborate effectively throughout all stages of the project, ensuring clean and maintainable code. Focus on scalability, performance, and integration of external systems. Perform thorough and automated testing. Document and share design decisions and best practices.
| Client | 
link:https://www.rtve.es/play/videos/saber-y-ganar/[Radio Televisión Española (RTVE)] 
| Expect a stable and appealing web solution that increases user participation and provides an entertaining and interactive gaming experience.
| ChattySW (Development Company) |
Internal development team of ChattySW
| Deliver a robust and interactive application that integrates AI-based hints for the game. Ensure availability, performance, and security. Maintain clear communication with RTVE and meet project deadlines.
| System Administrator |
IT team responsible for system maintenance
| Ensure system uptime, security, and performance. Manage deployments, monitor server load, and provide technical support. Also manage application users and their permissions.
| Regular User (Player) |
People who register and participate in the quiz
| Participate in the game by answering image-based questions and using the conversational hint system. Provide feedback on usability and user experience.
|===
