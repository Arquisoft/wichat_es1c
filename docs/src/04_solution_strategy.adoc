== Solution Strategy

=== Technology Decisions
For the implementation of **WiChat**, we have selected the following technologies based on their ease of development, scalability, and compatibility with the project requirements:

- *Frontend:* React with TypeScript for an interactive and modular user interface.
- *Backend:* Node.js with Express to manage business logic, authentication, and data operations.
- *Database:* MongoDB Atlas, a cloud-based NoSQL database optimized for flexible and scalable storage.
- *Authentication:* JSON Web Tokens (JWT) for secure authentication without third-party dependencies.
- *Question Generation:* Use of queries to Wikidata through the backend to retrieve images and data.
- *Deployment:* Use of Azure for application deployment, ensuring scalability and accessibility.
- *Testing:* Use of Jest and React Testing Library for unit and integration testing.
- *Documentation:* Use of Arc42 for project documentation, ensuring a clear and accessible structure.
- *Monitoring and Metrics:* Use of Prometheus and Grafana for metrics collection and system monitoring, ensuring reliability and performance.

=== Top-Level System Decomposition
The system follows a *frontend + dedicated backend architecture*, where all business logic is managed by a Node.js backend instead of serverless functions.

. *Presentation Layer (Frontend - React)*
** Implemented in React with TypeScript, providing an interactive experience.
** Communicates with the backend via HTTP requests to the Node.js API.

. *Business Logic Layer (Backend - Node.js & Express)*
** Manages question generation, answer validation, and data storage.
** Connects to Wikidata to retrieve questions and answers.
** Handles user authentication with JWT, generating and validating tokens.

. *Data Layer (MongoDB Atlas)*
** Stores information about users, generated questions, and game statistics.
** Optimized for flexible storage and efficient queries.

=== Architectural Patterns

- *Monolithic Backend Architecture:* The backend is implemented as a single Node.js application managing all API requests.
- *API Gateway:* The backend acts as a centralized API that receives requests from the frontend and processes the corresponding logic.
- *Event-Driven Architecture:* MongoDB enables real-time updates through triggers and change streams.

=== Design Patterns

- *Fa√ßade:* Centralizes calls to MongoDB Atlas and Wikidata within the backend API.
- *Observer:* MongoDB allows real-time subscriptions to data changes.
- *Lazy Loading:* Progressive data loading to optimize frontend performance.
- *Producer-Consumer:* A scheduled auxiliary process generates questions and answers, storing them in the database for the game service to use.

=== Decisions for Achieving Quality Goals
To ensure system quality, the following strategic decisions have been made:

[options="header"]
|===
| *Quality Goal* | *Decision Taken*
| *Scalability* | Use of MongoDB Atlas and Node.js backend, ensuring efficient request handling.
| *Availability* | Deployment in a cloud-based environment with automatic scaling.
| *Security* | Implementation of JWT-based authentication for secure access control without third-party dependencies.
| *Maintainability* | Use of the Express framework for a structured and maintainable backend.
| *Usability* | Intuitive web interface with React and automatic question generation to enhance the user experience.
| *Mitigation of LLM Errors* | Use of specifically designed prompts to reduce incorrect responses and pre-filter generated hints.
| *Reducing Question Loading Time* | Preloading questions so that while a user answers a question, the next one is already prepared, thus preventing delays.
|===

=== Organizational Decisions

[options="header"]
|===
| Third-Party Product | Reason
| Git | Easy-to-use distributed version control system.
| GitHub | Web-based platform for hosting and managing Git repositories, including features like issue tracking, pull requests, and GitHub Actions.
| Azure | Cloud service used for deploying the application with built-in support for continuous integration.
| MongoDB Atlas | Scalable and flexible cloud-based NoSQL database solution.
| JSON Web Tokens (JWT) | Secure and stateless authentication mechanism used to manage user sessions.
| Prometheus | Monitoring and alerting toolkit ideal for metrics collection.
| Grafana | Analytics and monitoring platform allowing real-time visualization of metrics.
| SonarQube | Static code analysis tool to ensure code quality and detect vulnerabilities.
| CodeScene | Code analysis tool that identifies complexity patterns and technical debt.
| Docker | Platform for creating, deploying, and running applications in containers, facilitating portability and scalability.
|===

=== Motivation
The architectural decisions in this system are based on the need for an agile and efficient development approach within an **academic environment of a couple of months**. A **Node.js backend with Express** was chosen to ensure greater control over business logic while maintaining scalability and ease of integration with React and MongoDB.  
Additionally, the use of modern tools like **Prometheus and Grafana** was prioritized to guarantee real-time monitoring and metrics analysis, allowing proactive performance issue detection and resolution. The choice of cloud technologies like **MongoDB Atlas** and **Azure** ensures that the system is scalable and accessible from anywhere.
